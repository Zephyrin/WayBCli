  <app-top-errors [errors]="service.errors"></app-top-errors>
<fieldset [disabled]="service.loading">
  <app-validation-and-search class="d-block d-sm-block d-md-block d-lg-block d-xl-none"
                             [service]="service"></app-validation-and-search>

  <div class="d-flex justify-content-between align-items-center">
    <button class="btn btn-light d-flex justify-content-center align-content-between"
            *ngIf="!service.isValidator"
            (click)="brandModal.open()">
      <mat-icon [inline]="true">add</mat-icon>
    </button>
    <app-validation-and-search class="d-none d-sm-none d-md-none d-lg-none d-xl-block"
                               [service]="service">
    </app-validation-and-search>
    <app-pagination [pagination]="service"></app-pagination>
  </div>
</fieldset>
<div
     class="table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl">
  <fieldset [disabled]="service.loading">
    <table class="table">
      <thead>
        <tr>
          <th scope="col"
              class="col-md-5 align-middle">
            <app-thead [service]="service"
                       [text]="'Name'"
                       [sortBy]="sortByEnum.name"></app-thead>
          </th>
          <th scope="col"
              class="col-md-5 align-middle">
            <app-thead [service]="service"
                       [text]="'URI'"
                       [sortBy]="sortByEnum.uri"></app-thead>
          </th>
          <th scope="col"
              class="col-md-1 align-middle"
              *ngIf="isValidator">
            <app-thead [service]="service"
                       [text]="'Ask Validation'"
                       [sortBy]="sortByEnum.askValidate"></app-thead>
          </th>
          <th scope="col"
              class="col-md-1 align-middle">
            <app-thead [service]="service"
                       [text]="'Action'"
                       [sortBy]="isValidator ? sortByEnum.validate : sortByEnum.askValidate">
            </app-thead>
          </th>
        </tr>
      </thead>
      <tr *ngFor="let brand of service.values"
          (click)="service.setSelected(brand)"
          (dblclick)="dblClick(brand)"
          class="pointer"
          [class.active]="brand == service.selected && service.canEditOrDelete(brand)"
          [class.pointer]="service.canEditOrDelete(brand)">
        <td class="align-middle"><img *ngIf="brand.logo && brand.logo.hasUrl()"
               [src]="brand.logo.url()"
               [alt]="brand.logo.description"
               class="rounded img-thumbnail" /><b>{{brand.name}}</b>
        </td>
        <td class="align-middle">
          <a [attr.href]="service.returnUrl(brand.uri)"
             target="_blank"
             rel="noopener noreferrer">{{brand.uri}}</a>
        </td>
        <td *ngIf="isValidator"
            class="align-middle">
          <app-switch [value]="brand.askValidate"
                      [disabled]="true">
          </app-switch>
        </td>
        <td class="align-middle">
          <app-action [service]="service"
                      [value]="brand"
                      (delete)="brandModal.onDelete(brand)"
                      (update)="brandModal.open(brand)"></app-action>
        </td>
      </tr>
    </table>
  </fieldset>
</div>
<fieldset [disabled]="service.loading">
  <app-pagination [pagination]="service"></app-pagination>
    <app-top-errors [errors]="service.errors"></app-top-errors>
</fieldset>
<app-brand-update #brandModal></app-brand-update>
